!function(){if(!window.__GHL_LOADER__){window.__GHL_LOADER__=!0;var e="https://cdn.jsdelivr.net/gh/core-gs/mcore-gs@latest/gs-c-base.css",t=3e3,a=15e3,n="GHL_THEME_CACHE::",r={currentKey:null,lastHref:location.href,ensureWatchers:{},guardEl:null,appliedKeySet:new Set};"loading"!==document.readyState?y():document.addEventListener("DOMContentLoaded",y)}function l(){var e=location.href.match(/\/v2\/location\/([^\/\?#]+)/);return e?e[1]:null}function o(e){return"loc-"+e}function c(){r.guardEl&&r.guardEl.parentNode&&r.guardEl.parentNode.removeChild(r.guardEl),r.guardEl=null,document.documentElement.classList.add("ghl-applied")}function i(){setTimeout(c,30)}function s(){try{var e=document.createElement("link");e.rel="preconnect",e.href="https://cdn.jsdelivr.net",document.head.appendChild(e)}catch(e){}try{document.querySelectorAll("link[data-ghl-id]").forEach((function(e){e.getAttribute("fetchpriority")||e.setAttribute("fetchpriority","high"),"preload"!==e.rel&&(e.rel="preload",e.as="style")}))}catch(e){}}function d(e){if(e&&"blank"!==e){var t=o(e);document.documentElement.classList.add(t);try{for(var a=document.getElementsByClassName(e),n=0;n<a.length;n++){var r=a[n];r.classList&&!r.classList.contains(t)&&r.classList.add(t)}}catch(e){}}}function u(e){if(e&&"blank"!==e&&!r.ensureWatchers[e]){var t=o(e),n=Date.now();d(e);var l=new MutationObserver((function(o){for(var c=0;c<o.length;c++){var i=o[c];if("childList"===i.type)for(var s=0;s<i.addedNodes.length;s++){var d=i.addedNodes[s];if(d&&1===d.nodeType&&(d.classList&&d.classList.contains(e)&&!d.classList.contains(t)&&d.classList.add(t),d.getElementsByClassName))for(var u=d.getElementsByClassName(e),h=0;h<u.length;h++){var m=u[h];m.classList&&!m.classList.contains(t)&&m.classList.add(t)}}if("attributes"===i.type&&"class"===i.attributeName){var f=i.target;f&&f.classList&&f.classList.contains(e)&&!f.classList.contains(t)&&f.classList.add(t)}}if(Date.now()-n>a){try{l.disconnect()}catch(e){}delete r.ensureWatchers[e]}}));try{l.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["class"]}),r.ensureWatchers[e]=l}catch(e){}}}function h(e){for(var t=document.querySelectorAll('link[rel="stylesheet"][data-ghl-style-for]'),a=0;a<t.length;a++){var n=t[a];e&&n.getAttribute("data-ghl-style-for")===e||n.parentNode&&n.parentNode.removeChild(n)}}function m(e){for(var t=document.querySelectorAll("style[data-user-theme-inline]"),a=0;a<t.length;a++){var n=t[a];n.getAttribute("data-user-theme-inline")!==e&&n.parentNode&&n.parentNode.removeChild(n)}}function f(e,t){var a=function(e,t){return n+e+"::"+t}(t,e);try{var l=localStorage.getItem(a);l&&function(e,t){if(!r.appliedKeySet.has(e)){var a=document.createElement("style");a.type="text/css",a.setAttribute("data-user-theme-inline",e),a.textContent=t,document.head.appendChild(a),r.appliedKeySet.add(e),i()}}(e,l)}catch(e){}document.querySelector('link[data-user-theme-loaded="'+e+'"]')||fetch(t,{cache:"default",mode:"cors"}).then((function(e){if(!e.ok)throw new Error("template fetch "+e.status);return e.text()})).then((function(t){var n="blank"===e?t.replace(/\.?__USER__\b/g,""):t.replace(/\.?__USER__\b/g,"."+o(e));try{localStorage.setItem(a,n)}catch(e){}var r=new Blob([n],{type:"text/css"}),l=URL.createObjectURL(r),c=document.createElement("link");c.rel="stylesheet",c.href=l,c.setAttribute("data-user-theme-loaded",e),c.onload=i,document.head.appendChild(c),c.addEventListener("load",(function(){setTimeout((function(){try{URL.revokeObjectURL(l)}catch(e){}m(e)}),300)}))})).catch((function(e){console.warn("[GHL Loader] Stable theme template fetch failed:",e&&e.message)}))}function p(a){var n,l="blank"===a?document.querySelector('link[data-ghl-id="blank"]'):(n=a)?document.querySelector('link[data-ghl-id="'+n+'"]'):null;if(!l)return!1;if(r.currentKey===a)return d(a),u(a),!0;var p=r.currentKey;p&&p!==a&&(!function(e){if(e&&"blank"!==e){var t=o(e);document.documentElement.classList.remove(t);try{for(var a=document.getElementsByClassName(t),n=[],r=0;r<a.length;r++)n.push(a[r]);for(var l=0;l<n.length;l++)n[l].classList.remove(t)}catch(e){}}}(p),h(null),m(a),document.querySelectorAll("link[data-user-theme-loaded]").forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})));!function(){if(!r.guardEl){var e=document.createElement("style");e.setAttribute("data-ghl-guard","true"),e.textContent="html:not(.ghl-applied) .hl_header, html:not(.ghl-applied) #sidebar-v2{visibility:hidden !important}html:not(.ghl-applied) #dashboard-wrapper{opacity:0.001 !important}",document.head.appendChild(e),r.guardEl=e,setTimeout(c,t)}}(),d(a),u(a);var v,y=document.currentScript||(v=document.getElementsByTagName("script"))[v.length-1]||null,g=y&&y.getAttribute("data-template")||e;return s(),f(a,g),function(e,t){if(!e)return null;var a=e.getAttribute("href");if(!a)return null;var n=document.querySelector('link[rel="stylesheet"][data-ghl-style-for="'+t+'"]');if(n&&n.getAttribute("href")===a)return n;h(null);var r=document.createElement("link");r.rel="stylesheet",r.href=a,r.setAttribute("data-ghl-style-for",t),r.onload=i,document.head.appendChild(r),e.setAttribute("data-activated","true")}(l,a),r.currentKey=a,!0}function v(){var e=l();e&&p(e)||p("blank")}function y(){!function(){var e=history.pushState,t=history.replaceState;function a(){r.lastHref!==location.href&&(r.lastHref=location.href,setTimeout(v,30))}try{history.pushState=function(){var t=e.apply(this,arguments);return a(),t},history.replaceState=function(){var e=t.apply(this,arguments);return a(),e}}catch(e){}window.addEventListener("popstate",a),setInterval(a,300)}(),s();var e=Date.now(),t=setInterval((function(){(l()||Date.now()-e>1e4)&&(clearInterval(t),v())}),80)}}();
